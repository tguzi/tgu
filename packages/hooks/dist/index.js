"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("react"),e=function(e,r){var n=t.useRef(!1);t.useEffect((function(){if(n.current)return e();n.current=!0}),r)};function r(t){return"function"==typeof t}function n(n,o,s){var i=t.useState((function(){return c()})),u=i[0],a=i[1];function c(){var t=n.getItem(o);if(t)try{return JSON.parse(t)}catch(t){}return r(s)?s():s}return e((function(){a(c())}),[o]),[u,function(t){if(r(t)){var e=t(c());n.setItem(o,JSON.stringify(e)),a(e)}else n.setItem(o,JSON.stringify(t)),a(t)},function(){a(void 0),n.removeItem(o)}]}function o(t,e,n){function o(){var o=t.getItem(e);if(o)try{return JSON.parse(o)}catch(t){}return r(n)?n():n}return[o(),function(n){if(r(n)){var s=n(o());t.setItem(e,JSON.stringify(s))}else t.setItem(e,JSON.stringify(n))},function(){t.removeItem(e)}]}var s=new(function(){function t(){this.storage=new Map,this.length=0}return t.prototype.getItem=function(t){return this.storage.has(t)&&this.storage.get(t)},t.prototype.setItem=function(t,e){this.storage.set(t,e),this.updateLength()},t.prototype.removeItem=function(t){this.storage.delete(t),this.updateLength()},t.prototype.clear=function(){this.storage.clear(),this.updateLength()},t.prototype.updateLength=function(){this.length=this.storage.size},t.prototype.key=function(t){var e=this.storage.keys(),r=null;if(t>this.storage.size)return r;for(var n=0;n<this.storage.size;n++){var o=e.next();if(n===t){r=o.value;break}}return r},t}());var i=Object.freeze({__proto__:null,usecacheStorageState:function(t,e){return n(s,t,e)},altCacheStorageState:function(t,e){return o(s,t,e)},useSessionStorageState:function(t,e){return n(sessionStorage,t,e)},altSessionStorageState:function(t,e){return o(sessionStorage,t,e)},useLocalStorageState:function(t,e){return n(localStorage,t,e)},altLocalStorageState:function(t,e){return o(localStorage,t,e)}});exports.testFn=function(){console.log("我是一个测试的hooks")},exports.useStorage=i,exports.useUpdateEffect=e;
//# sourceMappingURL=index.js.map
