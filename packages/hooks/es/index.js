import{useRef as t,useEffect as e,useState as r}from"react";var n=function(r,n){var o=t(!1);e((function(){if(o.current)return r();o.current=!0}),n)};function o(t){return"function"==typeof t}function i(t,e,i){var a=r((function(){return c()})),s=a[0],u=a[1];function c(){var r=t.getItem(e);if(r)try{return JSON.parse(r)}catch(t){}return o(i)?i():i}return n((function(){u(c())}),[e]),[s,function(r){if(o(r)){var n=r(c());t.setItem(e,JSON.stringify(n)),u(n)}else t.setItem(e,JSON.stringify(r)),u(r)},function(){u(void 0),t.removeItem(e)}]}function a(t,e,r){function n(){var n=t.getItem(e);if(n)try{return JSON.parse(n)}catch(t){}return o(r)?r():r}return[n(),function(r){if(o(r)){var i=r(n());t.setItem(e,JSON.stringify(i))}else t.setItem(e,JSON.stringify(r))},function(){t.removeItem(e)}]}var s=new(function(){function t(){this.storage=new Map,this.length=0}return t.prototype.getItem=function(t){return this.storage.has(t)&&this.storage.get(t)},t.prototype.setItem=function(t,e){this.storage.set(t,e),this.updateLength()},t.prototype.removeItem=function(t){this.storage.delete(t),this.updateLength()},t.prototype.clear=function(){this.storage.clear(),this.updateLength()},t.prototype.updateLength=function(){this.length=this.storage.size},t.prototype.key=function(t){var e=this.storage.keys(),r=null;if(t>this.storage.size)return r;for(var n=0;n<this.storage.size;n++){var o=e.next();if(n===t){r=o.value;break}}return r},t}());var u=Object.freeze({__proto__:null,usecacheStorageState:function(t,e){return i(s,t,e)},altCacheStorageState:function(t,e){return a(s,t,e)},useSessionStorageState:function(t,e){return i(sessionStorage,t,e)},altSessionStorageState:function(t,e){return a(sessionStorage,t,e)},useLocalStorageState:function(t,e){return i(localStorage,t,e)},altLocalStorageState:function(t,e){return a(localStorage,t,e)}}),c=function(){console.log("我是一个测试的hooks")};export{c as testFn,u as useStorage,n as useUpdateEffect};
//# sourceMappingURL=index.js.map
