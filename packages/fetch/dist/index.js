"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t=require("tslib");var r=function(){this.__data__=[],this.size=0};var e=function(t,r){return t===r||t!=t&&r!=r};var n=function(t,r){for(var n=t.length;n--;)if(e(t[n][0],r))return n;return-1},o=Array.prototype.splice;var a=function(t){var r=this.__data__,e=n(r,t);return!(e<0)&&(e==r.length-1?r.pop():o.call(r,e,1),--this.size,!0)};var i=function(t){var r=this.__data__,e=n(r,t);return e<0?void 0:r[e][1]};var u=function(t){return n(this.__data__,t)>-1};var c=function(t,r){var e=this.__data__,o=n(e,t);return o<0?(++this.size,e.push([t,r])):e[o][1]=r,this};function s(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}s.prototype.clear=r,s.prototype.delete=a,s.prototype.get=i,s.prototype.has=u,s.prototype.set=c;var f=s;var l=function(){this.__data__=new f,this.size=0};var v=function(t){var r=this.__data__,e=r.delete(t);return this.size=r.size,e};var p=function(t){return this.__data__.get(t)};var h=function(t){return this.__data__.has(t)},y="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function d(t,r){return t(r={exports:{}},r.exports),r.exports}var b="object"==typeof y&&y&&y.Object===Object&&y,_="object"==typeof self&&self&&self.Object===Object&&self,j=b||_||Function("return this")(),g=j.Symbol,O=Object.prototype,m=O.hasOwnProperty,w=O.toString,A=g?g.toStringTag:void 0;var P=function(t){var r=m.call(t,A),e=t[A];try{t[A]=void 0;var n=!0}catch(t){}var o=w.call(t);return n&&(r?t[A]=e:delete t[A]),o},x=Object.prototype.toString;var E=function(t){return x.call(t)},T=g?g.toStringTag:void 0;var z=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":T&&T in Object(t)?P(t):E(t)};var q=function(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)};var R,S=function(t){if(!q(t))return!1;var r=z(t);return"[object Function]"==r||"[object GeneratorFunction]"==r||"[object AsyncFunction]"==r||"[object Proxy]"==r},F=j["__core-js_shared__"],U=(R=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+R:"";var D=function(t){return!!U&&U in t},M=Function.prototype.toString;var C=function(t){if(null!=t){try{return M.call(t)}catch(t){}try{return t+""}catch(t){}}return""},L=/^\[object .+?Constructor\]$/,I=Function.prototype,$=Object.prototype,B=I.toString,H=$.hasOwnProperty,k=RegExp("^"+B.call(H).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var G=function(t){return!(!q(t)||D(t))&&(S(t)?k:L).test(C(t))};var N=function(t,r){return null==t?void 0:t[r]};var K=function(t,r){var e=N(t,r);return G(e)?e:void 0},V=K(j,"Map"),W=K(Object,"create");var J=function(){this.__data__=W?W(null):{},this.size=0};var Q=function(t){var r=this.has(t)&&delete this.__data__[t];return this.size-=r?1:0,r},X=Object.prototype.hasOwnProperty;var Y=function(t){var r=this.__data__;if(W){var e=r[t];return"__lodash_hash_undefined__"===e?void 0:e}return X.call(r,t)?r[t]:void 0},Z=Object.prototype.hasOwnProperty;var tt=function(t){var r=this.__data__;return W?void 0!==r[t]:Z.call(r,t)};var rt=function(t,r){var e=this.__data__;return this.size+=this.has(t)?0:1,e[t]=W&&void 0===r?"__lodash_hash_undefined__":r,this};function et(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}et.prototype.clear=J,et.prototype.delete=Q,et.prototype.get=Y,et.prototype.has=tt,et.prototype.set=rt;var nt=et;var ot=function(){this.size=0,this.__data__={hash:new nt,map:new(V||f),string:new nt}};var at=function(t){var r=typeof t;return"string"==r||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==t:null===t};var it=function(t,r){var e=t.__data__;return at(r)?e["string"==typeof r?"string":"hash"]:e.map};var ut=function(t){var r=it(this,t).delete(t);return this.size-=r?1:0,r};var ct=function(t){return it(this,t).get(t)};var st=function(t){return it(this,t).has(t)};var ft=function(t,r){var e=it(this,t),n=e.size;return e.set(t,r),this.size+=e.size==n?0:1,this};function lt(t){var r=-1,e=null==t?0:t.length;for(this.clear();++r<e;){var n=t[r];this.set(n[0],n[1])}}lt.prototype.clear=ot,lt.prototype.delete=ut,lt.prototype.get=ct,lt.prototype.has=st,lt.prototype.set=ft;var vt=lt;var pt=function(t,r){var e=this.__data__;if(e instanceof f){var n=e.__data__;if(!V||n.length<199)return n.push([t,r]),this.size=++e.size,this;e=this.__data__=new vt(n)}return e.set(t,r),this.size=e.size,this};function ht(t){var r=this.__data__=new f(t);this.size=r.size}ht.prototype.clear=l,ht.prototype.delete=v,ht.prototype.get=p,ht.prototype.has=h,ht.prototype.set=pt;var yt=ht,dt=function(){try{var t=K(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var bt=function(t,r,e){"__proto__"==r&&dt?dt(t,r,{configurable:!0,enumerable:!0,value:e,writable:!0}):t[r]=e};var _t=function(t,r,n){(void 0!==n&&!e(t[r],n)||void 0===n&&!(r in t))&&bt(t,r,n)};var jt=function(t){return function(r,e,n){for(var o=-1,a=Object(r),i=n(r),u=i.length;u--;){var c=i[t?u:++o];if(!1===e(a[c],c,a))break}return r}}(),gt=d((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e?j.Buffer:void 0,a=o?o.allocUnsafe:void 0;t.exports=function(t,r){if(r)return t.slice();var e=t.length,n=a?a(e):new t.constructor(e);return t.copy(n),n}})),Ot=j.Uint8Array;var mt=function(t){var r=new t.constructor(t.byteLength);return new Ot(r).set(new Ot(t)),r};var wt=function(t,r){var e=r?mt(t.buffer):t.buffer;return new t.constructor(e,t.byteOffset,t.length)};var At=function(t,r){var e=-1,n=t.length;for(r||(r=Array(n));++e<n;)r[e]=t[e];return r},Pt=Object.create,xt=function(){function t(){}return function(r){if(!q(r))return{};if(Pt)return Pt(r);t.prototype=r;var e=new t;return t.prototype=void 0,e}}();var Et=function(t,r){return function(e){return t(r(e))}}(Object.getPrototypeOf,Object),Tt=Object.prototype;var zt=function(t){var r=t&&t.constructor;return t===("function"==typeof r&&r.prototype||Tt)};var qt=function(t){return"function"!=typeof t.constructor||zt(t)?{}:xt(Et(t))};var Rt=function(t){return null!=t&&"object"==typeof t};var St=function(t){return Rt(t)&&"[object Arguments]"==z(t)},Ft=Object.prototype,Ut=Ft.hasOwnProperty,Dt=Ft.propertyIsEnumerable,Mt=St(function(){return arguments}())?St:function(t){return Rt(t)&&Ut.call(t,"callee")&&!Dt.call(t,"callee")},Ct=Array.isArray;var Lt=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991};var It=function(t){return null!=t&&Lt(t.length)&&!S(t)};var $t=function(t){return Rt(t)&&It(t)};var Bt=function(){return!1},Ht=d((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e?j.Buffer:void 0,a=(o?o.isBuffer:void 0)||Bt;t.exports=a})),kt=Function.prototype,Gt=Object.prototype,Nt=kt.toString,Kt=Gt.hasOwnProperty,Vt=Nt.call(Object);var Wt=function(t){if(!Rt(t)||"[object Object]"!=z(t))return!1;var r=Et(t);if(null===r)return!0;var e=Kt.call(r,"constructor")&&r.constructor;return"function"==typeof e&&e instanceof e&&Nt.call(e)==Vt},Jt={};Jt["[object Float32Array]"]=Jt["[object Float64Array]"]=Jt["[object Int8Array]"]=Jt["[object Int16Array]"]=Jt["[object Int32Array]"]=Jt["[object Uint8Array]"]=Jt["[object Uint8ClampedArray]"]=Jt["[object Uint16Array]"]=Jt["[object Uint32Array]"]=!0,Jt["[object Arguments]"]=Jt["[object Array]"]=Jt["[object ArrayBuffer]"]=Jt["[object Boolean]"]=Jt["[object DataView]"]=Jt["[object Date]"]=Jt["[object Error]"]=Jt["[object Function]"]=Jt["[object Map]"]=Jt["[object Number]"]=Jt["[object Object]"]=Jt["[object RegExp]"]=Jt["[object Set]"]=Jt["[object String]"]=Jt["[object WeakMap]"]=!1;var Qt=function(t){return Rt(t)&&Lt(t.length)&&!!Jt[z(t)]};var Xt=function(t){return function(r){return t(r)}},Yt=d((function(t,r){var e=r&&!r.nodeType&&r,n=e&&t&&!t.nodeType&&t,o=n&&n.exports===e&&b.process,a=function(){try{var t=n&&n.require&&n.require("util").types;return t||o&&o.binding&&o.binding("util")}catch(t){}}();t.exports=a})),Zt=Yt&&Yt.isTypedArray,tr=Zt?Xt(Zt):Qt;var rr=function(t,r){if(("constructor"!==r||"function"!=typeof t[r])&&"__proto__"!=r)return t[r]},er=Object.prototype.hasOwnProperty;var nr=function(t,r,n){var o=t[r];er.call(t,r)&&e(o,n)&&(void 0!==n||r in t)||bt(t,r,n)};var or=function(t,r,e,n){var o=!e;e||(e={});for(var a=-1,i=r.length;++a<i;){var u=r[a],c=n?n(e[u],t[u],u,e,t):void 0;void 0===c&&(c=t[u]),o?bt(e,u,c):nr(e,u,c)}return e};var ar=function(t,r){for(var e=-1,n=Array(t);++e<t;)n[e]=r(e);return n},ir=/^(?:0|[1-9]\d*)$/;var ur=function(t,r){var e=typeof t;return!!(r=null==r?9007199254740991:r)&&("number"==e||"symbol"!=e&&ir.test(t))&&t>-1&&t%1==0&&t<r},cr=Object.prototype.hasOwnProperty;var sr=function(t,r){var e=Ct(t),n=!e&&Mt(t),o=!e&&!n&&Ht(t),a=!e&&!n&&!o&&tr(t),i=e||n||o||a,u=i?ar(t.length,String):[],c=u.length;for(var s in t)!r&&!cr.call(t,s)||i&&("length"==s||o&&("offset"==s||"parent"==s)||a&&("buffer"==s||"byteLength"==s||"byteOffset"==s)||ur(s,c))||u.push(s);return u};var fr=function(t){var r=[];if(null!=t)for(var e in Object(t))r.push(e);return r},lr=Object.prototype.hasOwnProperty;var vr=function(t){if(!q(t))return fr(t);var r=zt(t),e=[];for(var n in t)("constructor"!=n||!r&&lr.call(t,n))&&e.push(n);return e};var pr=function(t){return It(t)?sr(t,!0):vr(t)};var hr=function(t){return or(t,pr(t))};var yr=function(t,r,e,n,o,a,i){var u=rr(t,e),c=rr(r,e),s=i.get(c);if(s)_t(t,e,s);else{var f=a?a(u,c,e+"",t,r,i):void 0,l=void 0===f;if(l){var v=Ct(c),p=!v&&Ht(c),h=!v&&!p&&tr(c);f=c,v||p||h?Ct(u)?f=u:$t(u)?f=At(u):p?(l=!1,f=gt(c,!0)):h?(l=!1,f=wt(c,!0)):f=[]:Wt(c)||Mt(c)?(f=u,Mt(u)?f=hr(u):q(u)&&!S(u)||(f=qt(c))):l=!1}l&&(i.set(c,f),o(f,c,n,a,i),i.delete(c)),_t(t,e,f)}};var dr=function t(r,e,n,o,a){r!==e&&jt(e,(function(i,u){if(a||(a=new yt),q(i))yr(r,e,u,n,t,o,a);else{var c=o?o(rr(r,u),i,u+"",r,e,a):void 0;void 0===c&&(c=i),_t(r,u,c)}}),pr)};var br=function(t){return t};var _r=function(t,r,e){switch(e.length){case 0:return t.call(r);case 1:return t.call(r,e[0]);case 2:return t.call(r,e[0],e[1]);case 3:return t.call(r,e[0],e[1],e[2])}return t.apply(r,e)},jr=Math.max;var gr=function(t,r,e){return r=jr(void 0===r?t.length-1:r,0),function(){for(var n=arguments,o=-1,a=jr(n.length-r,0),i=Array(a);++o<a;)i[o]=n[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=n[o];return u[r]=e(i),_r(t,this,u)}};var Or=function(t){return function(){return t}},mr=dt?function(t,r){return dt(t,"toString",{configurable:!0,enumerable:!1,value:Or(r),writable:!0})}:br,wr=Date.now;var Ar=function(t){var r=0,e=0;return function(){var n=wr(),o=16-(n-e);if(e=n,o>0){if(++r>=800)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}(mr);var Pr=function(t,r){return Ar(gr(t,r,br),t+"")};var xr=function(t,r,n){if(!q(n))return!1;var o=typeof r;return!!("number"==o?It(n)&&ur(r,n.length):"string"==o&&r in n)&&e(n[r],t)};var Er,Tr,zr=function(t){return Pr((function(r,e){var n=-1,o=e.length,a=o>1?e[o-1]:void 0,i=o>2?e[2]:void 0;for(a=t.length>3&&"function"==typeof a?(o--,a):void 0,i&&xr(e[0],e[1],i)&&(a=o<3?void 0:a,o=1),r=Object(r);++n<o;){var u=e[n];u&&t(r,u,n,a)}return r}))}((function(t,r,e){dr(t,r,e)}));!function(t){t.GET="GET",t.POST="POST",t.PUT="PUT",t.DELETE="DELETE",t.PATCH="PATCH",t.HEAD="HEAD",t.COMMON="COMMON"}(Er||(Er={})),function(t){t.arraybuffer="arraybuffer",t.blob="blob",t.json="json",t.text="text",t.formData="formData"}(Tr||(Tr={}));var qr=function(){var t=this;this.handlers=[],this.use=function(r,e){return t.handlers.push({fulfilled:r,rejected:e}),t.handlers.length-1},this.eject=function(r){t.handlers[r]&&(t.handlers[r]=null)},this.forEach=function(r){t.handlers.forEach((function(t){null!==t&&r(t)}))}},Rr=function(r){var e=this;this.RequestMethod=Er,this.setConfig=function(t){e.defaults=zr(e.defaults,t)},this.initConfig=function(t){var r=zr(e.defaults,t);if(r.method||(r.method=Er.GET),!Er[r.method])throw new Error("Request type "+r.method+" does not exist");if(!r.url)throw new Error("Request URL cannot be empty");if(r.headers=new Headers(t.headers),r.params){var n=r.url,o=e.parseParamKey(r.params);n&&-1!==n.indexOf("?")?n+="&"+o:n+="?"+o,r.url=n}return r},this.parseParamKey=function(t,r){var n="";if(-1!==["string","number","boolean"].indexOf(typeof t))n+="&"+r+"="+encodeURIComponent(t);else for(var o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var a=t[o],i=null==r?o:r+(t instanceof Array?"":"."+o);n+="&"+e.parseParamKey(a,i)}return n.substr(1)},this.request=function(t){var r=e.initConfig(t),n=[e.dispatchRequest,void 0],o=Promise.resolve(r);for(e.interceptors.request.forEach((function(t){t&&n.unshift(t.fulfilled,t.rejected)})),e.interceptors.response.forEach((function(t){t&&n.push(t.fulfilled,t.rejected)}));n.length;)o=o.then(n.shift(),n.shift());return Promise.race([o,new Promise((function(r,e){var n,o=void 0!==t.timeout?t.timeout:5e3,a=0,i=function(t){if(a||(a=t),t-a>o){cancelAnimationFrame(n);var r=new Error("请求超时");r.code=500,e(r)}else n=requestAnimationFrame(i)};o&&(n=requestAnimationFrame(i))}))])},this.dispatchRequest=function(r){var e=r.url,n=r.baseURL,o=void 0===n?"":n,a=r.body,i=r.headers,u=(r.transformRequest,r.timeout,r.responseType),c=t.__rest(r,["url","baseURL","body","headers","transformRequest","timeout","responseType"]);if(!e)throw new Error("Request URL cannot be empty");return fetch(o+e,t.__assign(t.__assign({},c),{body:a,headers:new Headers(i)})).then((function(t){if(t.ok)return u===Tr.json?t.json():u===Tr.text?t.text():u===Tr.arraybuffer?t.arrayBuffer():u===Tr.blob?t.blob():u===Tr.formData?t.formData():t.json();var r=new Error;throw r.res=t.json(),r}))},this.defaults=r,this.interceptors={request:new qr,response:new qr}},Sr=new Rr({});exports.Fetch=Rr,exports.InterceptorManager=qr,exports.default=Sr;
//# sourceMappingURL=index.js.map
